% =============================================================================
% NovaBASIC v1.0 User Guide â€” Chapter 2: Your First Session
% =============================================================================
\chapter{Your First Session}

\epigraph{%
  Tell me and I forget.  Teach me and I remember.  Involve me and I learn.
}{%
  \textit{Benjamin Franklin}%
}

The fastest way to get comfortable with NovaBASIC is to use it.  This chapter
walks you through everything you need for a productive first session: entering
programs, editing them, saving and loading files, and building the habits that
will serve you on every project after this one.

% ---------------------------------------------------------------------------
\section{The Edit-Run Cycle}

NovaBASIC stores your program as an ordered list of numbered lines.  When you
type a line beginning with a number and press Return, that line is added to
the program in the correct position.  When you type \cmd{RUN}, execution begins
at the lowest line number and proceeds in order.

This is the fundamental loop:

\begin{retrobox}
\centering
\textbf{TYPE A LINE} $\longrightarrow$ \textbf{LIST} $\longrightarrow$
\textbf{RUN} $\longrightarrow$ \textbf{FIX} $\longrightarrow$ \textbf{RUN}
\end{retrobox}

\noindent
Here is a small program to enter right now:

\begin{lstlisting}[style=basiclisting]
10 PRINT "NOVABASIC IS READY"
20 X = 7
30 PRINT "SEVEN SQUARED IS "; X*X
\end{lstlisting}

Type \cmd{LIST} to see the program back.  Type \cmd{RUN} to execute it.  Now
change line~20 by retyping it with a new value:

\begin{lstlisting}[style=basiclisting,numbers=none]
20 X = 12
\end{lstlisting}

\noindent
The old line~20 is replaced.  Type \cmd{RUN} again and the result changes.
To delete a line entirely, type its number alone and press Return:

\begin{lstlisting}[style=basiclisting,numbers=none]
30
\end{lstlisting}

\noindent
Line~30 is gone.  \cmd{LIST} confirms it.

% ---------------------------------------------------------------------------
\section{Essential Editing Commands}

\begin{longtable}{>{\ttfamily}p{0.28\textwidth} p{0.64\textwidth}}
\toprule
\normalfont\textbf{Command} & \textbf{What It Does} \\
\midrule
\endhead
\bottomrule
\endfoot
LIST           & Display the entire program currently in memory. \\[2pt]
LIST 20-40     & Display only lines 20 through 40 (inclusive). \\[2pt]
NEW            & Clear the program from memory.  Cannot be undone. \\[2pt]
RUN            & Execute the program starting from the lowest line number. \\[2pt]
CONT           & Continue execution after a \cmd{STOP} statement. \\[2pt]
\end{longtable}

\begin{warningbox}
  \cmd{NEW} erases everything in memory immediately.  Save your work with
  \cmd{SAVE} before typing \cmd{NEW} if you want to keep it.
\end{warningbox}

% ---------------------------------------------------------------------------
\section{Saving and Loading}

Programs are saved to and loaded from the virtual file system using four
commands:

\begin{description}
  \item[\cmd{SAVE "name"}]
    Write the current program to disk under the given name.  The
    \texttt{.bas} extension is added automatically.
  \item[\cmd{LOAD "name"}]
    Load a saved program from disk into memory, replacing anything
    currently there.
  \item[\cmd{DIR}]
    List all saved BASIC programs.
  \item[\cmd{DEL "name"}]
    Delete a saved program.  This cannot be undone.
\end{description}

\begin{notebox}
  Filenames may contain letters (\texttt{A--Z}, \texttt{a--z}), digits
  (\texttt{0--9}), underscores, hyphens, and dots.  Maximum length is
  63~characters.  Names are case-sensitive on disk.
\end{notebox}

Here is a complete save-and-reload sequence:

\begin{lstlisting}[style=basiclisting,numbers=none]
SAVE "MYPROG"
DIR
NEW
LOAD "MYPROG"
RUN
\end{lstlisting}

\noindent
\cmd{DIR} shows \texttt{MYPROG.bas} in the listing.  After \cmd{LOAD} and
\cmd{RUN}, the program executes as if you had just typed it in.

% ---------------------------------------------------------------------------
\section{Working Efficiently}

Good habits established early make everything easier later.

\begin{tipbox}
\begin{itemize}
  \item \textbf{Number lines by tens.}  Use line numbers 10, 20, 30\ldots
    rather than 1, 2, 3.  This leaves room to insert new lines between
    existing ones without renumbering.
  \item \textbf{Use \cmd{REM} freely while learning.}  A comment line
    costs a little memory but saves a lot of confusion.  You can remove
    them once the code is stable.
  \item \textbf{Build and run in small steps.}  Add a few lines, \cmd{RUN},
    verify the output, add more.  Chasing bugs through a hundred lines you
    typed without testing is no fun.
  \item \textbf{Group lines by function.}  A common convention: 100s for
    initialisation, 200s for input, 300s for game logic, 800s for output
    routines, 900s for cleanup and quit.  Any scheme that makes sense to
    you is fine; the important thing is to pick one and use it.
\end{itemize}
\end{tipbox}

% ---------------------------------------------------------------------------
\section{The Round-Trip Exercise}

The following exercise takes you through writing, saving, clearing, reloading,
and running a program.  Every step matters --- do not skip any of them.

\begin{tryitbox}
\begin{lstlisting}[style=basiclisting]
10 PRINT "ROUND TRIP COMPLETE"
\end{lstlisting}
Then, at the prompt (no line number):
\begin{lstlisting}[style=basiclisting,numbers=none]
SAVE "ROUNDTRIP"
NEW
DIR
LOAD "ROUNDTRIP"
RUN
\end{lstlisting}
\textbf{Expected:}
\begin{itemize}
  \item After \cmd{SAVE}: the prompt returns immediately with no error.
  \item After \cmd{NEW}: \cmd{LIST} shows nothing.
  \item After \cmd{DIR}: \texttt{ROUNDTRIP.bas} appears in the listing.
  \item After \cmd{LOAD} and \cmd{RUN}: the screen prints
        \texttt{ROUND TRIP COMPLETE}.
\end{itemize}
\end{tryitbox}

\noindent
If you see \texttt{ROUND TRIP COMPLETE} at the end, you have mastered the
complete NovaBASIC workflow.  Everything else is built on top of exactly this.
