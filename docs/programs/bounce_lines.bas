10 REM NovaBASIC v1.0 - BOUNCING LINES DEMO (VSYNC + 20-LINE TRAIL)
20 MODE 1:COLOR 1,6:GCLS
30 DIM XA(20),YA(20),XB(20),YB(20)
40 X1=37:Y1=11:X2=281:Y2=173
50 DX1=3:DY1=2:DX2=-4:DY2=3
60 K=0:N=0:PC=1
70 VSYNC
80 X1=X1+DX1:Y1=Y1+DY1:X2=X2+DX2:Y2=Y2+DY2
90 IF X1<0 THEN X1=0:GOSUB 600
100 IF X1>319 THEN X1=319:GOSUB 610
110 IF Y1<0 THEN Y1=0:GOSUB 620
120 IF Y1>199 THEN Y1=199:GOSUB 630
130 IF X2<0 THEN X2=0:GOSUB 640
140 IF X2>319 THEN X2=319:GOSUB 650
150 IF Y2<0 THEN Y2=0:GOSUB 660
160 IF Y2>199 THEN Y2=199:GOSUB 670
170 K=K+1:IF K>20 THEN K=1
180 IF N=20 THEN GCOLOR 6:LINE XA(K),YA(K),XB(K),YB(K)
190 IF N<20 THEN N=N+1
200 C=INT(RND(1)*15)+1
210 IF C=6 THEN C=INT(RND(1)*15)+1
220 IF C=PC THEN C=C+1:IF C>15 THEN C=1
230 IF C=6 THEN C=14
240 GCOLOR C:LINE X1,Y1,X2,Y2
250 XA(K)=X1:YA(K)=Y1:XB(K)=X2:YB(K)=Y2:PC=C
260 GOTO 70
600 DX1=1+INT(RND(1)*4):DY1=INT(RND(1)*9)-4:IF DY1=0 THEN DY1=1
601 RETURN
610 DX1=-(1+INT(RND(1)*4)):DY1=INT(RND(1)*9)-4:IF DY1=0 THEN DY1=-1
611 RETURN
620 DY1=1+INT(RND(1)*4):DX1=INT(RND(1)*9)-4:IF DX1=0 THEN DX1=1
621 RETURN
630 DY1=-(1+INT(RND(1)*4)):DX1=INT(RND(1)*9)-4:IF DX1=0 THEN DX1=-1
631 RETURN
640 DX2=1+INT(RND(1)*4):DY2=INT(RND(1)*9)-4:IF DY2=0 THEN DY2=1
641 RETURN
650 DX2=-(1+INT(RND(1)*4)):DY2=INT(RND(1)*9)-4:IF DY2=0 THEN DY2=-1
651 RETURN
660 DY2=1+INT(RND(1)*4):DX2=INT(RND(1)*9)-4:IF DX2=0 THEN DX2=1
661 RETURN
670 DY2=-(1+INT(RND(1)*4)):DX2=INT(RND(1)*9)-4:IF DX2=0 THEN DX2=-1
671 RETURN
