10 REM ===========================
20 REM  PULSE CITY - SID DEMO
30 REM  NOVABASIC MUSIC ENGINE
40 REM ===========================
50 PRINT CHR$(12)
60 MODE 1:COLOR 1,0:GCLS
70 REM -- INSTRUMENTS --
80 INSTRUMENT 1,64,0,8,0,4:REM PULSE
90 INSTRUMENT 2,32,0,6,12,6:REM SAW
100 INSTRUMENT 3,128,0,4,0,0:REM NOISE
110 REM -- LEAD: ARPEGGIO CHORDS --
120 MUSIC 1,"T140I1@P2048@PS+O4L2[{CEG}{FAC}|{GBD}{CEG}]4"
130 REM -- BASS LINE WITH SLIDES --
140 MUSIC 2,"T140I2O2L2[C/F|/G/>C<]4"
150 REM -- DRUMS --
160 MUSIC 3,"T140I3O3L8[CRRCCRRC]8"
170 VOLUME 15
180 MUSIC LOOP ON
190 MUSIC PRIORITY 3,2
200 MUSIC PLAY
210 REM -- TITLE --
220 GCOLOR 1
230 LINE 20,8,299,8:LINE 20,9,299,9
240 COLOR 15,0
250 PRINT "     P U L S E   C I T Y"
260 COLOR 12,0
270 PRINT "      a SID chiptune demo"
280 PRINT
290 COLOR 7,0
300 PRINT "    V1: pulse arpeggio chords"
310 PRINT "    V2: sawtooth bass + slides"
320 PRINT "    V3: noise percussion"
330 GCOLOR 1
340 LINE 20,56,299,56:LINE 20,57,299,57
350 REM -- EQUALIZER SETUP --
360 NB=10:MW=28:SP=32
370 DIM BH(9)
380 FOR I=0 TO NB-1:BH(I)=0:NEXT I
390 REM -- MAIN LOOP --
400 VSYNC
410 FOR I=0 TO NB-1
420 OH=BH(I)
430 NH=OH+INT(RND(1)*31)-15
440 IF NH<3 THEN NH=3
450 IF NH>115 THEN NH=115
460 C=I+2:IF C=11 THEN C=14
470 X0=I*SP:X1=X0+MW
480 IF NH>OH THEN GCOLOR C:FILL X0,199-NH,X1,199-OH
490 IF NH<OH THEN GCOLOR 0:FILL X0,199-OH,X1,199-NH
500 BH(I)=NH
510 NEXT I
520 GOTO 400
